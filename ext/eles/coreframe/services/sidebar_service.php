<?php
namespace eles\coreframe\services; class sidebar_service { protected $user; protected $config; protected $config_text; public function __construct(\phpbb\user $user, \phpbb\config\config $config, \phpbb\config\db_text $config_text) { $this->user = $user; $this->config = $config; $this->config_text = $config_text; } public function is_visible($sp762b0e) { $sp83b284 = str_replace('.php', '', $this->user->page['page_name']); $sp59d322 = json_decode(base64_decode($this->config_text->get('c_sidebar_pages')), true); $sp59d322 = $sp59d322 ? $sp59d322 : array(); $sp2aa34e = in_array($sp83b284, $sp59d322) !== FALSE; $spa42037 = FALSE; foreach ($sp59d322 as $sp5f2ecd) { if (strpos($sp83b284, $sp5f2ecd) !== FALSE) { $spa42037 = TRUE; } } $speb2dcc = $sp2aa34e ? $this->config[$sp762b0e] : $spa42037; return $speb2dcc; } }